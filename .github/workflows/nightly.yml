defaults:
  run:
    shell: bash
jobs:
  setup:
    container: ubuntu:20.04
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v2
        with:
          path: '.dotfiles'
      - name: base
        run: |
          apt update
          apt install apt-transport-https -y --no-install-recommends
          apt install libu2f-host0 pcscd scdaemon gnupg2 pcsc-tools -y --no-install-recommends
      - name: install
        run: |
          apt update
          apt install build-essential curl file git -y --no-install-recommends
      - name: deploy
        run: bash deploy.sh
        working-directory: '.dotfiles'
      - name: setup
        run: |
          source ~/.profile
          source ~/.bashrc
          setupEnvironment
name: Homebrew
on:
  schedule:
    - cron: '2 2 * * *'
  push:
    branches:
      - '**'
    path:
      - '.bash_functions'
  pull_request:
    branches:
      - '**'
    path:
      - '.bash_functions'
